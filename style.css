/* ===================== BASE ===================== */
body {
    background-color: rgb(0, 0, 0);
    color: white;
    text-align: center;
    position: relative;
    overflow-x: hidden;
    height: 100%;
}

a {
    color: rgb(132, 243, 255);
    text-decoration: initial;
}

a:hover {
    color: rgb(0, 221, 246);
}

.links {
    font-size: small;
}

a.activepage {
    color: rgb(0, 169, 187);
}

h3.smalltitle {
    font-size: x-large;
    color: rgb(0, 229, 255)
}

h1, h2, h3, h4, a {
    font-family: "TopazPlus", "Lucida Console", monospace;
}

h3 {
    color: rgb(208, 208, 208);
}

/* ===================== ST5 ===================== */
a pre {
    display: inline-block;
    margin: 2rem 0;
    white-space: pre;
    position: relative;
    transition: color 1.8s ease, text-shadow 0.8s ease;
}

a pre::before {
    content: '';
    display: block;
    width: 50ch;
    height: 2px;
    margin: 0 auto 10px;
    background: #e50914;
    opacity: 0;
    transform: scaleX(0);
    transform-origin: center;
    transition: transform 1s ease, opacity 0.6s ease;
    box-shadow: 0 0 6px #e50914, 0 0 12px #ff3333;
    animation: flicker 2s infinite alternate;
}

a pre span.bottom-left,
a pre span.bottom-right {
    display: inline-block;
    height: 2px;
    width: 10ch;
    opacity: 0;
    transform: scaleX(0);
    transition: transform 1.2s ease, opacity 0.6s ease;
    background: #e50914;
    box-shadow: 0 0 4px #e50914, 0 0 8px #ff3333;
    animation: flicker 2.5s infinite alternate;
}

a pre span.bottom-left { transform-origin: right; }
a pre span.bottom-right { transform-origin: left; }

a:hover pre::before { transform: scaleX(1); opacity: 1; }
a:hover pre span.bottom-left { transform: scaleX(1); opacity: 1; }
a:hover pre span.bottom-right { transform: scaleX(1); opacity: 1; transition-delay: 0.15s; }

a:hover pre {
    color: #ff4d4d;
    text-shadow:
        0 0 4px #ff4d4d,
        0 0 8px #e50914,
        0 0 12px #ff1a1a;
    animation: glitch 1.5s infinite linear;
}

@keyframes glitch {
    0% { transform: translate(0); }
    1% { color: black; }
    2% { color: #ff4d4d; }
    5% { transform: translate(0.5px, -0.5px); }
    10% { transform: translate(-0.5px, 0.5px); }
    15% { transform: translate(0.5px, 0.5px); }
    20% { transform: translate(0); }
    100% { transform: translate(0); }
}

@keyframes flicker {
    0%, 18%, 22%, 25%, 53%, 57%, 100% {
        opacity: 1;
        box-shadow: 0 0 6px #e50914, 0 0 12px #ff3333;
    }
    20%, 55% {
        opacity: 0.5;
        box-shadow: 0 0 2px #e50914, 0 0 6px #ff3333;
    }
    48% {
        opacity: 0.9;
        box-shadow: 0 0 4px #e50914, 0 0 10px #ff3333;
    }
    21% {
        opacity: 0.3;
        box-shadow: none;
    }
}

/* ===================== TV NOISE ===================== */

.crt-effect {
    position: relative;
    overflow: hidden;
    filter: contrast(1.3) brightness(0.9) saturate(1.2);
    background: #000;
}

.crt-effect::before {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0;

    background:
        repeating-linear-gradient(
            0deg,
            rgba(255,255,255,0.12) 0px,
            rgba(255,255,255,0.12) 1px,
            rgba(0,0,0,0) 2px
        ),
        repeating-linear-gradient(
            90deg,
            rgba(255,255,255,0.1) 0px,
            rgba(255,255,255,0.1) 1px,
            rgba(0,0,0,0) 2px
        );
    background-size: cover;
    opacity: 0.1;
    mix-blend-mode: lighten;

    animation: staticNoise 0.15s steps(6) infinite;
}

.crt-effect::after {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0;

    background: 
        repeating-linear-gradient(
            to bottom,
            rgba(0, 0, 0, 0.35) 0px,
            rgba(0, 0, 0, 0.35) 2px,
            rgba(0, 0, 0, 0) 4px
        );

    mix-blend-mode: multiply;
    opacity: 0.7;

    animation: scanlineMove 0.2s linear infinite;
}

@keyframes staticNoise {
    0% { transform: translate3d(0,0,0); }
    100% { transform: translate3d(-3px, 3px, 0); }
}

@keyframes scanlineMove {
    0% { background-position: 0 0; }
    100% { background-position: 0 4px; }
}